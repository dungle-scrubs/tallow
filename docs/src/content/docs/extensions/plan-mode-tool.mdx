---
title: plan-mode-tool
description: Read-only exploration mode for safe code analysis and planning.
---

Toggle with `/plan-mode` or `ctrl+alt+p` to enter a strict read-only mode.

In plan mode, tool access is fail-closed and allowlisted:

- `read`
- `bash` (read-only command allowlist enforced)
- `grep`
- `find`
- `ls`
- `questionnaire` (when available)
- `plan_mode`

All other tools are blocked while plan mode is enabled, including write tools
(`edit`, `write`) and non-read-only extension tools (`bg_bash`, `subagent`,
`mcp__*`, etc.).

Plan mode extracts numbered steps from `Plan:` sections in the assistant
response. During execution (after exiting plan mode), a progress widget tracks
completed steps via `[DONE:n]` markers.

When a tool call is blocked during execution and UI is available, plan mode can
prompt for optional user guidance and send it as a steer message prefixed with
`[PLAN GUIDANCE â€” Step n: ...]` so the model can adjust the current step.

Disabling plan mode restores the pre-plan tool set.

## Commands

| Command | Description |
|---------|-------------|
| `/plan-mode` | Toggle plan mode on/off |
| `/todos` | Show current plan todo list |
