#!/bin/sh

# Type checking
echo "ğŸ” Running type check..."
npx tsc --noEmit || {
  echo "âŒ Type check failed. Fix errors before committing."
  exit 1
}

# Extension type checking
echo "ğŸ” Running type check (extensions)..."
npx tsc --project tsconfig.extensions.json --noEmit || {
  echo "âŒ Extension type check failed. Fix errors before committing."
  exit 1
}

# Lint + format on staged files
echo "ğŸ§¹ Running lint & format check on staged files..."
npx lint-staged || {
  echo "âŒ Lint/format check failed. Run 'npm run lint:fix' to auto-fix."
  exit 1
}
